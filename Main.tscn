[gd_scene load_steps=7 format=3 uid="uid://qlveow25bthq"]

[ext_resource type="PackedScene" uid="uid://cht3fq1xc2cov" path="res://addons/twitch/tmi.tscn" id="1_hirkq"]
[ext_resource type="Script" path="res://addons/twitch/models/credentials.gd" id="2_owytt"]
[ext_resource type="PackedScene" uid="uid://pg142e3w2fu1" path="res://components/debug/debug_window.tscn" id="2_x60kq"]
[ext_resource type="PackedScene" uid="uid://ccenwry0rkni4" path="res://overlays/foreground_overlays.tscn" id="4_4wwpd"]
[ext_resource type="PackedScene" uid="uid://bcqqjjenx87m0" path="res://overlays/background_overlays.tscn" id="5_20kdc"]

[sub_resource type="Resource" id="Resource_ecq3x"]
script = ExtResource("2_owytt")
bot_id = "erodozer"
client_id = "4ddff19fwy68ugl8sdmxdy1go8enfn"
client_secret = "p7xqa3mfuvdtcadjdhptsps2j4n2cy"
token = "fkobh614z30s08l7s0mg9um6pi0edt"
refresh_token = "c3upfoqip2hhpmc2gi10e7h8w0t9hr9zf8aljy0q7nexza3evj"

[node name="Node" type="Node"]

[node name="Twitch" parent="." instance=ExtResource("1_hirkq")]
channel = "erodozer"
credentials = SubResource("Resource_ecq3x")
autoconnect = true
include_profile_images = true

[node name="BackgroundOverlays" parent="." instance=ExtResource("5_20kdc")]

[node name="ForegroundOverlays" type="Window" parent="."]
transparent_bg = true
initial_position = 2
title = "Foreground Overlays"
size = Vector2i(1280, 720)
unresizable = true
transparent = true

[node name="ForegroundOverlays" parent="ForegroundOverlays" instance=ExtResource("4_4wwpd")]

[node name="DebugWidow" parent="." node_paths=PackedStringArray("tmi") instance=ExtResource("2_x60kq")]
initial_position = 2
title = "tmi.gd Overlay Debug"
tmi = NodePath("../Twitch")

[connection signal="credentials_updated" from="Twitch" to="DebugWidow" method="_on_twitch_credentials_updated"]
[connection signal="Command" from="Twitch/Irc" to="BackgroundOverlays/StreamerBubbles" method="_on_irc_command"]
[connection signal="Command" from="Twitch/Irc" to="BackgroundOverlays/Chatbox" method="_on_irc_command"]

[editable path="Twitch"]
[editable path="BackgroundOverlays"]
